"use strict";(self.webpackChunkonline_store_management_system=self.webpackChunkonline_store_management_system||[]).push([[599],{9599:(D,h,r)=>{r.r(h),r.d(h,{productRoutes:()=>E});var l=r(8616),t=r(9212);let _=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-layout"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(n,i){1&n&&t._UZ(0,"router-outlet")},dependencies:[l.lC]})}return o})();var u=r(6814),v=r(4975),b=r(2574),d=r(9862),C=r(607),Z=r(6306),p=r(8504);let m=(()=>{class o{constructor(){this.http=(0,t.f3M)(d.eN),this.apiUrl="https://fakestoreapi.com/products"}findAll(){return this.http.get(this.apiUrl).pipe((0,C.X)(3),(0,Z.K)(e=>(0,p._)(e.status===d.WE.NotFound?()=>new Error("The server could not find the requested content"):e.status===d.WE.Unauthorized?()=>new Error("Authentication is required to obtain the requested response"):()=>new Error("Oops an error has ocurred"))))}findOne(e){return this.http.get(`${this.apiUrl}/${e}`)}save(e){return this.http.post(this.apiUrl,e)}update(e,n){return this.http.put(`${this.apiUrl}/${e}`,n)}delete(e){return this.http.delete(`${this.apiUrl}/${e}`)}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var x=r(9899),f=r(6557),c=r(95);let T=(()=>{class o{constructor(){this.http=(0,t.f3M)(d.eN),this.apiUrl="https://fakestoreapi.com/products/categories"}findAll(){return this.http.get(this.apiUrl)}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const P=["trigger"];function O(o,s){if(1&o&&(t.TgZ(0,"option",15),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e),t.xp6(),t.Oqu(e.toUpperCase())}}let y=(()=>{class o{constructor(){this.fb=(0,t.f3M)(c.qu),this.uniqueIdService=(0,t.f3M)(f.W),this.productService=(0,t.f3M)(m),this.categoryService=(0,t.f3M)(T),this.productId=(0,t.tdS)(0),this.categories=[],this.form=this.buildForm()}ngOnInit(){this.subscribeGetId=this.uniqueIdService.getId().subscribe(e=>this.productId.set(e)),this.productId()>=0&&this.initForm(),this.categoryService.findAll().subscribe(e=>{this.categories=e})}proccessForm(){if(this.form.valid){const e=this.form.value,n=this.productId();this.productId()>=0?this.productService.update(n,e).subscribe(i=>{console.log(i)}):this.productService.save(e).subscribe(i=>{console.log(i)})}else this.form.markAllAsTouched()}initForm(){const e=this.productId();this.productService.findOne(e).subscribe(n=>{this.form.setValue({title:n.title,price:n.price,description:n.description,image:n.image,category:n.category})})}buildForm(){return this.fb.group({title:["",[c.kI.required]],price:[0,[c.kI.required]],description:["",[c.kI.required]],image:["",[c.kI.required]],category:["",[c.kI.required]]})}save(){this.btnTrigger.nativeElement.click()}update(){this.btnTrigger.nativeElement.click()}delete(){this.productService.delete(this.productId()).subscribe(console.log)}ngOnDestroy(){this.subscribeGetId.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-form"]],viewQuery:function(n,i){if(1&n&&t.Gf(P,5),2&n){let a;t.iGM(a=t.CRH())&&(i.btnTrigger=a.first)}},standalone:!0,features:[t.jDz],decls:26,vars:1,consts:[[1,"form_container",3,"formGroup","ngSubmit"],[1,"content"],[1,"content_box"],["for","title",1,"box_label"],["type","text","id","title","name","title","formControlName","title",1,"box_input"],["for","price",1,"box_label"],["type","number","id","price","name","price","formControlName","price",1,"box_input"],["for","description",1,"box_label"],["id","description","name","description","cols","30","rows","10","formControlName","description","rows","4","cols","",1,"box_input"],["for","photo",1,"box_label"],["type","text","id","image","name","image","formControlName","image",1,"box_input"],["for","category",1,"box_label"],["name","category","id","category","formControlName","category",1,"box_input"],["type","submit",1,"btn_trigger--submit"],["trigger",""],[3,"value"]],template:function(n,i){1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.proccessForm()}),t.TgZ(1,"section",1)(2,"div",2)(3,"label",3),t._uU(4,"Title"),t.qZA(),t._UZ(5,"input",4),t.qZA(),t.TgZ(6,"div",2)(7,"label",5),t._uU(8,"Price"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div",2)(11,"label",7),t._uU(12,"Description"),t.qZA(),t._UZ(13,"textarea",8),t.qZA(),t.TgZ(14,"div",2)(15,"label",9),t._uU(16,"Image"),t.qZA(),t._UZ(17,"input",10),t.qZA(),t.TgZ(18,"div",2)(19,"label",11),t._uU(20,"Category"),t.qZA(),t.TgZ(21,"select",12),t.SjG(22,O,2,2,"option",15,t.ikw),t.qZA()(),t._UZ(24,"button",13,14),t.qZA()()),2&n&&(t.Q6J("formGroup",i.form),t.xp6(22),t.wJu(i.categories))},dependencies:[u.ez,c.UX,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.JL,c.sg,c.u],styles:[".form_container[_ngcontent-%COMP%]{padding:1rem}.content_box[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.box_label[_ngcontent-%COMP%]{font-size:var(--text-sm);margin-bottom:.3rem;color:brown;font-weight:500}.box_input[_ngcontent-%COMP%]{padding:.8rem .2rem;border:1px solid var(--border-dialog-input)}.btn_trigger--submit[_ngcontent-%COMP%]{display:none}"]})}return o})();var M=r(2123),U=r(7445),q=r(2371),A=r(5026);const F=(o,s)=>s.id,I=o=>["./details",o];function w(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"span",6),t.NdJ("click",function(){const a=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.editForm(a.id))}),t._uU(3," edit_square "),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td")(15,"span",7),t._uU(16," find_in_page "),t.qZA()()()}if(2&o){const e=s.$implicit;t.Q6J("@itemInOut",void 0),t.xp6(5),t.Oqu(e.title),t.xp6(2),t.Oqu(e.price),t.xp6(2),t.Oqu(e.category),t.xp6(2),t.Oqu(e.rating.rate),t.xp6(2),t.Oqu(e.rating.count),t.xp6(2),t.Q6J("routerLink",t.VKq(7,I,e.id))}}function S(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"app-form-dialog-page",8),t.NdJ("close",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t._UZ(1,"app-product-form",null,9),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("behavior",e.action())}}let N=(()=>{class o{constructor(){this.dialogService=(0,t.f3M)(x.x),this.productService=(0,t.f3M)(m),this.uniqueIdService=(0,t.f3M)(f.W),this.columnsTitle=["Edit","Title","Price","Category","Rate","Count","Details"],this.products=[],this.filterProducts=[],this.action=this.dialogService.action,this.state=this.dialogService.state}ngOnInit(){this.productService.findAll().subscribe({next:e=>{this.products=[...e],this.filterProducts=[...this.products]},error:e=>{console.log(e.name)}})}filterList(e){this.filterProducts=this.products.filter(n=>n.title.toLowerCase().includes(e.toLowerCase()))}closeDialog(){this.dialogService.closeDialogBox(),this.uniqueIdService.restart()}createForm(){this.dialogService.handleCreate()}editForm(e){this.uniqueIdService.emitId(e),this.dialogService.handleEdit()}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],standalone:!0,features:[t.jDz],decls:9,vars:2,consts:[[1,"container"],[3,"inputText"],[3,"createEv"],[1,"product_content"],[3,"columnsName"],[3,"behavior"],[1,"material-symbols-outlined","edit_icon",3,"click"],[1,"material-symbols-outlined","details_icon",3,"routerLink"],[3,"behavior","close"],["cmp",""]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"app-search-content")(2,"app-search",1),t.NdJ("inputText",function(g){return i.filterList(g)}),t.qZA(),t.TgZ(3,"app-btn-create",2),t.NdJ("createEv",function(){return i.createForm()}),t.qZA()(),t.TgZ(4,"div",3)(5,"app-table-content",4),t.SjG(6,w,17,9,"tr",null,F),t.qZA()()(),t.YNc(8,S,3,1,"app-form-dialog-page",5)),2&n&&(t.xp6(5),t.Q6J("columnsName",i.columnsTitle),t.xp6(),t.wJu(i.filterProducts),t.xp6(2),t.um2(8,i.state()?8:-1))},dependencies:[u.ez,b.L,y,l.rH,M.g,U.m,q.k,A.r],styles:[".container[_ngcontent-%COMP%]{height:100%;padding:.5rem}.product_content[_ngcontent-%COMP%]{height:85%;overflow-y:scroll}td[_ngcontent-%COMP%]{border:1px solid rgb(160,160,160);vertical-align:middle;padding:0 1rem}tr[_ngcontent-%COMP%]:hover{background-color:var(--bg-slate-100)}.edit_icon[_ngcontent-%COMP%], .details_icon[_ngcontent-%COMP%]{color:var(--bg-slate-300)}.edit_icon[_ngcontent-%COMP%]:hover, .details_icon[_ngcontent-%COMP%]:hover{color:var(--bg-slate-400);cursor:pointer}"],data:{animation:[v.Y]}})}return o})();var k=r(4664);function J(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",1),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.goToBack())}),t.TgZ(1,"span",2),t._uU(2,"arrow_back"),t.qZA(),t._uU(3," Back "),t.qZA(),t.TgZ(4,"div",3)(5,"h2",4),t._uU(6),t.qZA(),t.TgZ(7,"section",5)(8,"figure",6),t._UZ(9,"img",7),t.qZA(),t.TgZ(10,"div",8)(11,"div",9)(12,"h3"),t._uU(13,"Description:"),t.qZA(),t.TgZ(14,"p"),t._uU(15),t.qZA()(),t.TgZ(16,"div",8)(17,"p"),t._uU(18," Price by unit: "),t.TgZ(19,"span"),t._uU(20),t.ALo(21,"currency"),t.qZA()(),t.TgZ(22,"p"),t._uU(23," Units available: "),t.TgZ(24,"span"),t._uU(25),t.qZA()(),t.TgZ(26,"p"),t._uU(27," Rate: "),t.TgZ(28,"span"),t._uU(29),t.qZA()(),t.TgZ(30,"p"),t._uU(31," Category: "),t.TgZ(32,"span"),t._uU(33),t.qZA()()()()()()}if(2&o){const e=t.oxw();t.xp6(6),t.Oqu(e.product.title),t.xp6(3),t.Q6J("src",e.product.image,t.LSH)("alt",e.product.title),t.xp6(6),t.Oqu(e.product.description),t.xp6(5),t.Oqu(t.lcZ(21,8,e.product.price)),t.xp6(5),t.Oqu(e.product.rating.count),t.xp6(4),t.Oqu(e.product.rating.rate),t.xp6(4),t.Oqu(e.product.category)}}const E=[{path:"",component:_,children:[{path:"",component:N},{path:"details/:id",component:(()=>{class o{constructor(){this.router=(0,t.f3M)(l.F0),this.route=(0,t.f3M)(l.gz),this.productService=(0,t.f3M)(m),this.productId=-1}ngOnInit(){this.route.paramMap.pipe((0,k.w)(e=>{const n=Number(e.get("id"));return this.productId=n,this.productService.findOne(n)})).subscribe(e=>{this.product=e,console.log(e)})}goToBack(){this.router.navigate(["../"])}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-details"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"container"],[1,"btn_back",3,"click"],[1,"material-symbols-outlined"],[1,"product_content"],[1,"content_title"],[1,"content_details"],[1,"box_img"],[1,"img",3,"src","alt"],[1,"details_info"],[1,"details_description"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.YNc(1,J,34,10),t.qZA()),2&n&&(t.xp6(),t.um2(1,i.product?1:-1))},dependencies:[u.ez,u.H9],styles:[".container[_ngcontent-%COMP%]{height:100%;padding:.5rem}.btn_back[_ngcontent-%COMP%]{border:transparent;border-radius:.2rem;padding:.5rem 1rem;margin-bottom:1rem;color:var(--text-white);font-weight:600;background:var(--btn-normal-blue);display:flex;align-items:center;column-gap:1rem}.btn_back[_ngcontent-%COMP%]:hover{background:var(--btn-hover-blue);cursor:pointer}.product_content[_ngcontent-%COMP%]{height:90%;overflow-y:scroll}.content_title[_ngcontent-%COMP%]{font-size:var(--text-xl);font-weight:500;color:#c00;margin-bottom:1rem}.content_details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.box_img[_ngcontent-%COMP%]{position:relative;width:100%;max-width:30rem}.img[_ngcontent-%COMP%]{width:100%}.details_description[_ngcontent-%COMP%]{margin-bottom:1rem}.details_description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;color:#00f}.details_info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.details_info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}@media screen and (min-width: 768px){.container[_ngcontent-%COMP%]{max-width:76.8rem;margin:0 auto}}@media screen and (min-width: 1024px){.container[_ngcontent-%COMP%]{max-width:none;margin:0}.content_title[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem;font-size:var(--text-2xl)}.content_details[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:center;column-gap:4rem}.details_info[_ngcontent-%COMP%]{width:45%}.content_details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--text-lg)}}"]})}return o})()}]}]}}]);